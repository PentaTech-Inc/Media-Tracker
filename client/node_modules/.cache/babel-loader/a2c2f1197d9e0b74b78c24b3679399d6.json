{"ast":null,"code":"import _slicedToArray from \"/Users/fabian/Documents/GitHub/PentaTech/Media-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/fabian/Documents/GitHub/PentaTech/Media-Tracker/client/src/pages/Search.js\";\n\n/**\n * Search\n * @summary This page will display search results.\n * Data for the search request is passed as a query string from the previous page.\n * Will request search results from our server here.\n */\nimport React from 'react';\nimport Layout from '../components/Layout';\nimport SearchBar from '../components/SearchBar';\nimport ResultCard from '../components/ResultCard';\nimport { Container, Row, Col, Tabs, Tab, CardColumns } from 'react-bootstrap';\nimport { searchByTitle } from '../utils/API';\nimport { useState, useEffect } from 'react';\nimport * as qs from 'qs';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../styles/Search.css';\n\nconst Search = props => {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        results = _useState2[0],\n        setResults = _useState2[1];\n\n  const query = qs.parse(props.location.search, {\n    ignoreQueryPrefix: true\n  });\n  let title = null;\n  if (query.title) title = query.title.replace(\"&\", \"\");\n  useEffect(() => {\n    const fetchResults = async () => {\n      if (title && typeof title !== 'undefined' && title.replace(/^\\s+/, '').replace(/\\s+$/, '') !== '') {\n        const res = await searchByTitle(title);\n        setResults(res.response);\n      } else {\n        setResults(null);\n      }\n    };\n\n    fetchResults();\n  }, [title]);\n  return React.createElement(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    style: {\n      borderBottom: '1px solid black'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Search\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(Col, {\n    style: colStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(SearchBar, {\n    buttonStyle: \"dark\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  })), \" \"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(Row, {\n    style: rowStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, // If no search was made, just '--domain--/search', omit search results section\n  results !== null ? React.createElement(Col, {\n    style: colStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Results for:\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, title), React.createElement(\"div\", {\n    className: \"justify-content-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(Tabs, {\n    style: tabsStyle,\n    defaultActiveKey: \"movies\",\n    id: \"results-tab\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(Tab, {\n    stlye: tabStyle,\n    eventKey: \"movies\",\n    title: \"Movies\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, results.movies.length > 0 ? React.createElement(CardColumns, {\n    className: \"card-columns text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, results.movies.map((item, index) => {\n    return React.createElement(ResultCard, {\n      key: index,\n      id: item.id,\n      type: item.media_type,\n      title: item.title,\n      overview: item.overview,\n      release_date: item.release_date,\n      poster: item.poster_path,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    });\n  })) : React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"No results\")), React.createElement(Tab, {\n    style: tabStyle,\n    eventKey: \"shows\",\n    title: \"Shows\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, results.shows.length > 0 ? React.createElement(CardColumns, {\n    className: \"card-columns text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, results.shows.map((item, index) => {\n    return React.createElement(ResultCard, {\n      key: index,\n      id: item.id,\n      type: item.media_type,\n      title: item.name,\n      overview: item.overview,\n      release_date: item.first_air_date,\n      poster: item.poster_path,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    });\n  })) : React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"No results\"))))) : React.createElement(Col, {\n    style: colStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Search movies or TV shows!\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Add titles to your lists to keep track of what you've watched!\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Powered by \", React.createElement(\"a\", {\n    href: \"https://www.themoviedb.org\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"TMDb\"), \".\")))));\n};\n\nconst rowStyle = {\n  width: '100%'\n};\nconst colStyle = {\n  padding: 0,\n  marginLeft: '5%',\n  marginRight: '5%'\n};\nconst tabsStyle = {\n  paddingTop: 5,\n  paddingLeft: 5,\n  paddingRight: 5,\n  paddingBottom: 0,\n  borderRadius: 5,\n  borderLeft: '1px solid #4688F1',\n  borderRight: '1px solid #4688F1',\n  borderTop: '1px solid #4688F1'\n};\nconst tabStyle = {// for possible future styling\n};\nexport default Search;","map":{"version":3,"sources":["/Users/fabian/Documents/GitHub/PentaTech/Media-Tracker/client/src/pages/Search.js"],"names":["React","Layout","SearchBar","ResultCard","Container","Row","Col","Tabs","Tab","CardColumns","searchByTitle","useState","useEffect","qs","Search","props","results","setResults","query","parse","location","search","ignoreQueryPrefix","title","replace","fetchResults","res","response","borderBottom","colStyle","rowStyle","tabsStyle","tabStyle","movies","length","map","item","index","id","media_type","overview","release_date","poster_path","shows","name","first_air_date","width","padding","marginLeft","marginRight","paddingTop","paddingLeft","paddingRight","paddingBottom","borderRadius","borderLeft","borderRight","borderTop"],"mappings":"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","sourcesContent":["/**\n * Search\n * @summary This page will display search results.\n * Data for the search request is passed as a query string from the previous page.\n * Will request search results from our server here.\n */\n\nimport React from 'react';\nimport Layout from '../components/Layout';\nimport SearchBar from '../components/SearchBar';\nimport ResultCard from '../components/ResultCard';\nimport { Container, Row, Col, Tabs, Tab, CardColumns } from 'react-bootstrap';\nimport { searchByTitle } from '../utils/API';\nimport { useState, useEffect } from 'react';\nimport * as qs from 'qs';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../styles/Search.css'\n\n\nconst Search = props => {\n    const [results, setResults] = useState(null);\n    const query = qs.parse(props.location.search, {\n        ignoreQueryPrefix: true\n    });\n    let title = null;\n    if (query.title)\n        title = query.title.replace(\"&\", \"\");\n\n    useEffect(() => {\n        const fetchResults = async () => {\n            if (title && typeof title !== 'undefined' && title.replace(/^\\s+/, '').replace(/\\s+$/, '') !== '') {\n                const res = await searchByTitle(title);\n                setResults(res.response);\n            } else {\n                setResults(null);\n            }\n        };\n        fetchResults();\n    }, [title]);\n\n    return (\n        <Layout>\n            <h1 style={{ borderBottom: '1px solid black' }}>Search</h1>\n            <br />\n            <Row>\n                <Col style={colStyle}><SearchBar buttonStyle='dark' /></Col> {/* ...props to implement child components inheriting size? */}\n            </Row>\n            <br />\n            <Row style={rowStyle}>\n                {\n                    // If no search was made, just '--domain--/search', omit search results section\n                    results !== null ?\n                        <Col style={colStyle}>\n                            <h5>Results for:</h5>\n\n                            <p>{title}</p>\n                            <div className=\"justify-content-center\">\n                                <Tabs style={tabsStyle} defaultActiveKey=\"movies\" id=\"results-tab\">\n                                    <Tab stlye={tabStyle} eventKey=\"movies\" title=\"Movies\">\n                                        {results.movies.length > 0 ?\n                                            <CardColumns className=\"card-columns text-center\">\n                                                {results.movies.map((item, index) => {\n                                                    return (\n                                                        <ResultCard key={index} id={item.id} type={item.media_type} title={item.title} overview={item.overview} release_date={item.release_date} poster={item.poster_path} />\n                                                    );\n                                                })\n                                                }\n                                            </CardColumns>\n                                            :\n                                            <p>No results</p>\n                                        }\n                                    </Tab>\n                                    <Tab style={tabStyle} eventKey=\"shows\" title=\"Shows\">\n                                        {results.shows.length > 0 ?\n                                            <CardColumns className=\"card-columns text-center\">\n                                                {results.shows.map((item, index) => {\n                                                    return (\n                                                        <ResultCard key={index} id={item.id} type={item.media_type} title={item.name} overview={item.overview} release_date={item.first_air_date} poster={item.poster_path} />\n                                                    );\n                                                })\n                                                }\n                                            </CardColumns>\n                                            :\n                                            <p>No results</p>\n                                        }\n                                    </Tab>\n                                </Tabs>\n                            </div>\n                        </Col>\n                        :\n                        <Col style={colStyle}>\n                            <div>\n                                <h5>Search movies or TV shows!</h5>\n                                <p>Add titles to your lists to keep track of what you've watched!</p>\n                                <p>Powered by <a href=\"https://www.themoviedb.org\" target=\"_blank\" rel=\"noopener noreferrer\">TMDb</a>.</p>\n                            </div>\n                        </Col>\n                }\n            </Row>\n        </Layout>\n    );\n};\n\nconst rowStyle = {\n    width: '100%',\n};\n\nconst colStyle = {\n    padding: 0,\n    marginLeft: '5%',\n    marginRight: '5%'\n};\n\nconst tabsStyle = {\n    paddingTop: 5,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingBottom: 0,\n    borderRadius: 5,\n    borderLeft: '1px solid #4688F1',\n    borderRight: '1px solid #4688F1',\n    borderTop: '1px solid #4688F1'\n};\n\nconst tabStyle = {\n    // for possible future styling\n};\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}