{"ast":null,"code":"import _slicedToArray from \"/Users/fabian/Documents/GitHub/PentaTech/Media-Tracker/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/fabian/Documents/GitHub/PentaTech/Media-Tracker/client/src/pages/Profile.js\";\n\n/**\n * Profile\n * @summary A profile page for users.\n * Lists a user's username and profile picture, favorite TV shows & movies, and other statistics\n */\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { Row, Col, Card } from 'react-bootstrap';\nimport Slider from 'react-slick';\nimport { FaUserPlus, FaCommentDots, FaCalendar } from 'react-icons/fa';\nimport Layout from '../components/Layout';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'slick-carousel/slick/slick.css';\nimport 'slick-carousel/slick/slick-theme.css';\nimport '../styles/Profile.css';\n\nconst Profile = () => {\n  const _useState = useState({\n    data: {}\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        details = _useState2[0],\n        setDetails = _useState2[1];\n\n  const settings = {\n    dots: true,\n    infinite: false,\n    speed: 500,\n    slidesToShow: 4,\n    slidesToScroll: 4,\n    variableWidth: true,\n    adaptiveHeight: true\n  };\n  useEffect(() => {\n    fetch(\"/api/getUserDetails\", {\n      credentials: 'include'\n    }).then(res => {\n      if (res.status === 200) {\n        return res.json();\n      }\n    }).then(data => {\n      setDetails({\n        data: data\n      });\n    }).catch(err => {\n      console.error(err);\n      alert('Error checking for valid token.');\n    });\n  }, []);\n  let date = details.data.dateJoined + \"\"; // make string\n\n  date = date.substring(4, 7) + \" \" + date.substring(11, 15);\n  return React.createElement(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    style: {\n      borderBottom: '1px solid black'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, details.data.username), React.createElement(\"div\", {\n    className: \"fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(Row, {\n    style: rowStyle,\n    className: \"align-items-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(Col, {\n    md: 5,\n    lg: 4,\n    className: \"justify-content-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: details.data.avatar,\n    alt: \"profile\",\n    style: profileImg,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), React.createElement(\"h5\", {\n    style: username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(FaCalendar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), \" Joined \", date)), React.createElement(Col, {\n    md: 7,\n    lg: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    style: underline,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Movies watched\"), React.createElement(Slider, Object.assign({\n    style: {\n      marginTop: 10,\n      marginBottom: 30\n    }\n  }, settings, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), details.data.movies ? details.data.movies.map((item, index) => {\n    let movie = fetch(\"/api/getTitleDetails?id=\" + item + \"&type=movie\").then(async res => {\n      if (res.status === 200) {\n        let result = await res.json();\n        console.log(result);\n        return result;\n      }\n    }).catch(err => console.log(err));\n    return React.createElement(\"div\", {\n      style: {\n        width: 105,\n        height: 198\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Card, {\n      as: \"div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(Card.Img, {\n      src: \"http://image.tmdb.org/t/p/w185_and_h278_bestv2\" + movie.posterPath,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    })));\n  }) : null), React.createElement(\"h3\", {\n    style: underline,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Shows watched\"), React.createElement(Slider, Object.assign({\n    style: {\n      marginTop: 10,\n      marginBottom: 30\n    }\n  }, settings, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), details.data.shows ? details.data.shows.map((item, index) => {\n    return React.createElement(\"div\", {\n      style: {\n        width: 105,\n        height: 198\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Card, {\n      as: \"div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Card.Img, {\n      src: \"http://image.tmdb.org/t/p/w185_and_h278_bestv2/7WsyChQLEftFiDOVTGkv3hFpyyt.jpg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })));\n  }) : null)))));\n};\n\nconst rowStyle = {\n  textAlign: 'center',\n  marginTop: 20,\n  marginBottom: 20,\n  marginLeft: '5%',\n  marginRight: '5%'\n};\nconst colStyle = {\n  width: '100%'\n};\nconst alignCenter = {\n  textAlign: 'center'\n};\nconst underline = {\n  textAlign: 'left',\n  color: '#1f57a4',\n  borderBottomStyle: 'solid',\n  borderBottomColor: 'cornflowerBlue',\n  borderBottomWidth: 2\n};\nconst profileImg = {\n  width: 250,\n  height: 250,\n  backgroundRepeat: 'no-repeat',\n  backgroundSize: 'cover',\n  display: 'block',\n  marginLeft: 'auto',\n  marginRight: 'auto',\n  borderStyle: 'solid',\n  borderColor: 'black',\n  borderWidth: 0.4,\n  borderRadius: 500\n};\nconst username = {\n  textAlign: 'center'\n};\nexport default Profile;","map":{"version":3,"sources":["/Users/fabian/Documents/GitHub/PentaTech/Media-Tracker/client/src/pages/Profile.js"],"names":["React","useState","useEffect","Row","Col","Card","Slider","FaUserPlus","FaCommentDots","FaCalendar","Layout","Profile","data","details","setDetails","settings","dots","infinite","speed","slidesToShow","slidesToScroll","variableWidth","adaptiveHeight","fetch","credentials","then","res","status","json","catch","err","console","error","alert","date","dateJoined","substring","borderBottom","username","rowStyle","avatar","profileImg","underline","marginTop","marginBottom","movies","map","item","index","movie","result","log","width","height","posterPath","shows","textAlign","marginLeft","marginRight","colStyle","alignCenter","color","borderBottomStyle","borderBottomColor","borderBottomWidth","backgroundRepeat","backgroundSize","display","borderStyle","borderColor","borderWidth","borderRadius"],"mappings":"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","sourcesContent":["/**\n * Profile\n * @summary A profile page for users.\n * Lists a user's username and profile picture, favorite TV shows & movies, and other statistics\n */\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { Row, Col, Card } from 'react-bootstrap';\nimport Slider from 'react-slick';\nimport { FaUserPlus, FaCommentDots, FaCalendar } from 'react-icons/fa';\nimport Layout from '../components/Layout';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'slick-carousel/slick/slick.css';\nimport 'slick-carousel/slick/slick-theme.css';\nimport '../styles/Profile.css';\n\nconst Profile = () => {\n    const [details, setDetails] = useState({ data: {} });\n\n    const settings = {\n        dots: true,\n        infinite: false,\n        speed: 500,\n        slidesToShow: 4,\n        slidesToScroll: 4,\n        variableWidth: true,\n        adaptiveHeight: true\n    };\n\n    useEffect(() => {\n        fetch(\"/api/getUserDetails\", { credentials: 'include' })\n            .then(res => {\n                if (res.status === 200) {\n                    return res.json();\n                }\n            }).then(data => {\n                setDetails({ data: data });\n            })\n            .catch(err => {\n                console.error(err);\n                alert('Error checking for valid token.');\n            });\n\n    }, []);\n\n    let date = details.data.dateJoined + \"\"; // make string\n    date = date.substring(4, 7) + \" \" + date.substring(11, 15);\n    return (\n        <Layout>\n            <h1 style={{ borderBottom: '1px solid black' }}>{details.data.username}</h1>\n            <div className=\"fluid\">\n                <Row style={rowStyle} className=\"align-items-center\">\n                    <Col md={5} lg={4} className=\"justify-content-center\">\n                        <img src={details.data.avatar} alt=\"profile\" style={profileImg} />\n                        <br />\n                        <h5 style={username}><FaCalendar /> Joined {date}</h5>\n                    </Col>\n\n                    <Col md={7} lg={8}>\n                        <h3 style={underline}>Movies watched</h3>\n                        <Slider style={{ marginTop: 10, marginBottom: 30 }} {...settings}>\n                            {details.data.movies ? (details.data.movies).map((item, index) => {\n                                let movie = fetch(\"/api/getTitleDetails?id=\" + item + \"&type=movie\").then(async (res) => {\n                                    if (res.status === 200) {\n                                        let result = await res.json();\n                                        console.log(result);\n                                        return result;\n                                    }\n                                }).catch(err => console.log(err));\n                                return (\n                                    <div style={{ width: 105, height: 198 }}>\n                                        <Card as=\"div\">\n                                            <Card.Img src={\"http://image.tmdb.org/t/p/w185_and_h278_bestv2\"\n                                                + movie.posterPath} />\n                                        </Card>\n                                    </div>\n                                );\n                            })\n                                :\n                                null\n                            }\n                        </Slider>\n                        <h3 style={underline}>Shows watched</h3>\n                        <Slider style={{ marginTop: 10, marginBottom: 30 }} {...settings}>\n                            {details.data.shows ? (details.data.shows).map((item, index) => {\n                                return (\n                                    <div style={{ width: 105, height: 198 }}>\n                                        <Card as=\"div\">\n                                            <Card.Img src=\"http://image.tmdb.org/t/p/w185_and_h278_bestv2/7WsyChQLEftFiDOVTGkv3hFpyyt.jpg\" />\n                                        </Card>\n                                    </div>\n                                );\n                            })\n                                :\n                                null\n                            }\n                        </Slider>\n                    </Col>\n                </Row>\n\n\n            </div>\n        </Layout>\n    );\n};\n\nconst rowStyle = {\n    textAlign: 'center',\n    marginTop: 20,\n    marginBottom: 20,\n    marginLeft: '5%',\n    marginRight: '5%'\n};\n\nconst colStyle = {\n    width: '100%',\n};\n\nconst alignCenter = {\n    textAlign: 'center'\n};\n\nconst underline = {\n    textAlign: 'left',\n    color: '#1f57a4',\n    borderBottomStyle: 'solid',\n    borderBottomColor: 'cornflowerBlue',\n    borderBottomWidth: 2\n};\n\nconst profileImg = {\n    width: 250,\n    height: 250,\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n    display: 'block',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    borderStyle: 'solid',\n    borderColor: 'black',\n    borderWidth: 0.4,\n    borderRadius: 500\n};\n\nconst username = {\n    textAlign: 'center',\n};\n\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}